---
documentclass: ctexart # for linux
title: 体系结构 第三次作业
author: PB18000221 袁一玮
date: 3月24日
# CJKmainfont: "Microsoft YaHei" # for win
# CJKmainfont: "KaiTi" # for win
---

## B5

频率为 1.1GHz == 一个周期为 $1/1.1GHz = 0.91ns$

### a

$2\% \times (15ns + \frac{1}{266MHz} \times \frac{32Byte}{128bit} + (1-80\%) \times (60ns + \frac{1}{133MHz} \times \frac{64Byte}{128bit}) \times (1 + 50\%)) \\= 0.02 \times (15 + 3.76 \times 2 + 0.2 \times (60 + 7.52 \times 4) \times 1.5) \\= 0.991ns$

是 $1.09 ~cycle$

### b

$5\% \times (15ns + \frac{1}{266MHz} \times \frac{16Byte}{128bit} + (1-80\%) \times (60ns + \frac{1}{133MHz} \times \frac{64Byte}{128bit}) \times (1 + 50\%)) \\= 0.05 \times (15 + 3.76 + 0.2 \times (60 + 7.52 \times 4) \times 1.5) \\= 2.29ns$

是 $2.52 ~cycle$

### c

写入存储器 TODO:

### d

TODO:

$CPI = (0.7+1.09) + 20\% \times2.52 + 5\% \times undo$

## B8

### a

大量迭代循环：有执行次数 n 趋于无穷，$64/4=16$ 条指令，可以全部放入 cache 中，指令缺失率为 $0\%$

### b

$192/4=48$ 条指令，因大于 cache 容量 $128/4=32$，且每个地址的频率相同，可以发现 LRU 退化成 FIFO，cache 全部没有命中，指令缺失率为 $100\%$

$320/4=80$ 条指令，同理，指令缺失率为 $100\%$

### c

对于 MRU：

$64/4=16$ 条指令，可以全部放入 cache 中，指令缺失率为 $0\%$，没有受益

$192/4=48$ 条指令，第 32 条指令会依次被替换成最近使用最多的块，如 33、34、..、48；后面 1、2、..、31 条指令都会命中，相对原来的 $100\%$ 指令缺失率有受益

$320/4=80$ 条指令，同理，后面 1、2、..、31 条指令都会命中，相对原来的 $100\%$ 指令缺失率有受益

### d

随机替换 cache 效果肯定比全部未命中 cache 的 LRU 好，但是结果随机

## 2.11

### a

TODO:

没有关键字优先

有关键字优先

### b

关键字优先和提前重启动对 L2 缓存更重要，可以减少等待整个块传输所带来的时间浪费。因为 L2 缓存更⼤，L2 到内存的开销也⽐ L1 到 L2 ⼤，且 L2 带来的平均存储访问时间⼤于 L1

## 2.12

### a

应该和一行 L2 cache 一样大，$16B$

### b

合并写存储缓冲区可以在$\frac{16}{8}=2$个 CPU 时间内填充 16B L2 缓冲区，而原来需要 4 个 CPU 时间执行一次 16B 的写操作；故加速⽐：$S=\frac{4}{2}=2$

### c

TODO:
